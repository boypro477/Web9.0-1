'use strict';

function sort(input) {
    if (!input.length) return input;

    const {min, max} = input.reduce((obj, current) => {
            if (current < obj.min) obj.min = current;
            if (current > obj.max) obj.max = current;
            return obj;
        }, {
            min: input[0],
            max: input[0]
        }
    );

    const helper = input
        .map(number => number - min)
        .reduce(
            (acc, number) => {
                acc[number] ? acc[number]++ : acc[number] = 1;
                return acc;
            },
            new Array(max - min).fill(0))
        .reduce(
            (acc,number,index,arr) => {
                let result = acc || [...arr];
                if (!index) return result;

                const previous = result[index-1];
                result[index] = previous + number;
                return result;
            }, null
        );

    return input.reduce((acc, number) => {
        helper[number - min]--;
        acc[helper[number - min]] = number;
        return acc;
    }, [])
}

// console.log(sort([-9322, 9664, 3870, -4820, -8772, -3411, 6538, 5648, 2630, -2287, -3524, -2930, 3678, -1757, 339, -7178, -7308, 3418, 2573, -3125, 7533, -6762, 1998, 3319, -5326, -6254, 2605, 453, 5704, 6702, 9574, 4584, -7628, 8533, 5300, 6747, -9315, -3320, 869, 2757, 7594, 1605, 1280, 5139, 4091, 8438, -6798, 8513, -3014, 9516, -122, 2067, 1335, -4020, -594, -6566, -593, 9731, 2652, -5663, -7339, -6766, -8456, 8098, -7979, 7007, -4865, 7902, -3587, 3754, -3153, 9947, 4152, -1731, -9779, 2611, -6798, -6519, 5180, -327, -2070, 9689, -8125, -1385, -9317, 8921, 7712, -9283, 7418, 6956, -5741, -6817, 7090, -1761, 8799, 295, 1212, 5428, -2126, 62, -5652, 8706, -1402, 7467, -8612, 2534, -1529, 7026, 8523, 5300, 8700, -6281, 8424, -1298, 1656, -4759, 5190, -3209, -1512, 845, -331, 7073, 8760, 6566, 6516, 4479, 323, -2212, 8556, -908, -4458, 4409, 3854, 5284, 9304, 8654, 2597, 2057, -2771, 1472, 3639, -7721, 6594, 6635, 6698, -6584, 4444, 9902, -1255, 5840, 7920, -830, -3511, -2628, 4582, -8339, -5166, 5274, 1005, 6926, 9278, -4634, 9705, -4585, 4068, 7217, 1022, -5339, 9403, 4846, -6318, 496, -5876, -6728, 221, -440, -9388, -8378, 4266, -4453, 2727, 6770, 5970, -1545, -9478, -5418, 3210, 3424, 9943, -669, -5375, 3222, 9462, -7754, 1457, 7499, -2129, 4058, 5315, -5773]))

module.exports = sort;
